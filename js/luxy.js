/*!
 * luxy.js v0.1.0: Inertia scroll and parallax effect plugin in Vanilla.js
 * (c) 2018 Mineo Okuda
 * MIT License
 * git+ssh://git@github.com:min30327/luxy.js.git
 */
(function(a,b){if(typeof define==="function"&&define.amd){define([],b)}else{if(typeof exports==="object"){module.exports=b()}else{a.luxy=b()}}}(this,function(){var c={wrapper:"#luxy",targets:".luxy-el",wrapperSpeed:0.18,targetSpeed:0.02,targetPercentage:0.1};var e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;window.requestAnimationFrame=e;var d=window.cancelAnimationFrame||window.mozCancelAnimationFrame;var f=function(){var g={};var h=false;var j=0;var k=arguments.length;var m=function(i){for(var n in i){if(i.hasOwnProperty(n)){g[n]=i[n]}}};for(;j<k;j++){var l=arguments[j];m(l)}return g};var a=function(){this.Targets=[];this.TargetsLength=0;this.wrapper="";this.windowHeight=0;this.wapperOffset=0};a.prototype={isAnimate:false,isResize:false,scrollId:"",resizeId:"",init:function(g){this.settings=f(c,g||{});this.wrapper=document.querySelector(this.settings.wrapper);if(this.wrapper==="undefined"){return false}this.targets=document.querySelectorAll(this.settings.targets);document.body.style.height=this.wrapper.clientHeight+"px";this.windowHeight=window.clientHeight;this.attachEvent();this.apply(this.targets,this.wrapper);this.animate();this.resize()},apply:function(h,k){this.wrapperInit();this.targetsLength=h.length;for(var j=0;j<this.targetsLength;j++){var g={offset:h[j].getAttribute("data-offset"),speedX:h[j].getAttribute("data-speed-x"),speedY:h[j].getAttribute("data-speed-Y"),percentage:h[j].getAttribute("data-percentage"),horizontal:h[j].getAttribute("data-horizontal")};this.targetsInit(h[j],g)}},wrapperInit:function(){this.wrapper.style.width="100%";this.wrapper.style.position="fixed"},targetsInit:function(h,g){this.Targets.push({elm:h,offset:g.offset?g.offset:0,horizontal:g.horizontal?g.horizontal:0,top:0,left:0,speedX:g.speedX?g.speedX:1,speedY:g.speedY?g.speedY:1,percentage:g.percentage?g.percentage:0})},scroll:function(){var g=document.documentElement.scrollTop||document.body.scrollTop;this.scrollTop=document.documentElement.scrollTop||document.body.scrollTop;var h=this.scrollTop+this.windowHeight;this.wrapperUpdate(this.scrollTop);for(var j=0;j<this.Targets.length;j++){this.targetsUpdate(this.Targets[j])}},animate:function(){this.scroll();this.scrollId=e(this.animate.bind(this))},wrapperUpdate:function(){this.wapperOffset+=(this.scrollTop-this.wapperOffset)*this.settings.wrapperSpeed;this.wrapper.style.transform="translate3d("+0+","+Math.round(-this.wapperOffset*100)/100+"px ,"+0+")"},targetsUpdate:function(i){i.top+=(this.scrollTop*Number(this.settings.targetSpeed)*Number(i.speedY)-i.top)*this.settings.targetPercentage;i.left+=(this.scrollTop*Number(this.settings.targetSpeed)*Number(i.speedX)-i.left)*this.settings.targetPercentage;var j=(parseInt(i.percentage)-i.top-parseInt(i.offset));var k=Math.round(j*-100)/100;var g=0;if(i.horizontal){var h=(parseInt(i.percentage)-i.left-parseInt(i.offset));g=Math.round(h*-100)/100}i.elm.style.transform="translate3d("+g+"px ,"+k+"px ,"+0+")"},resize:function(){var g=this;g.windowHeight=(window.innerHeight||document.documentElement.clientHeight||0);if(parseInt(g.wrapper.clientHeight)!=parseInt(document.body.style.height)){document.body.style.height=g.wrapper.clientHeight+"px"}g.resizeId=e(g.resize.bind(g))},attachEvent:function(){var g=this;window.addEventListener("resize",(function(){if(!g.isResize){d(g.resizeId);d(g.scrollId);g.isResize=true;setTimeout((function(){g.isResize=false;g.resizeId=e(g.resize.bind(g));g.scrollId=e(g.animate.bind(g))}),200)}}))}};var b=new a();return b}));